!function(e){var t,a,n=function e(t,a){let n=0,r=0,i=!1;void 0===a&&(a=2),t=t.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");let l={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===a&&(i=!0),"number"!=typeof a){for(r=0,a=[].concat(a);r<a.length;r++)0===l[a[r]]?i=!0:l[a[r]]&&(n|=l[a[r]]);a=n}return a&l.ENT_HTML_QUOTE_SINGLE&&(t=t.replace(/&#039;/g,"'")),i||(t=t.replace(/&quot;/g,'"')),t=t.replace(/&amp;/g,"&")},r=(e,n,r,i)=>{a&&clearTimeout(a);var l=new XMLHttpRequest,o=[],s=0;if((t=l).onreadystatechange=()=>{4==t.readyState&&(a=setTimeout(()=>{t=null},3e3))},l.open(e,n,!0),i)for(header in i)l.setRequestHeader(header,i[header]);if(r){for(key in r)o[s]=key+"="+r[key],s++;l.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.send(o.join("&",o))}else l.send()},i=(e,a)=>{if(!t)return;let n=t.onreadystatechange;t.onreadystatechange=()=>{n&&n(),4==t.readyState&&200==t.status&&(a?e(JSON.parse(t.responseText),t):e(t.responseText,t))}},l=e=>{if(!t)return;let a=t.onreadystatechange;t.onreadystatechange=()=>{a&&a(),4==t.readyState&&200!=t.status&&e(t.status,t)}};e.addEventListener("DOMContentLoaded",function(){var t;function a(){e.querySelectorAll('input[name="post_title"], .table-view-list .inline-edit-col input[name="name"], #edittag .term-name-wrap input[name="name"], #edittag .term-description-wrap textarea[name="description"], #wpcontent .woocommerce input[name="attribute_label"], #wpcontent .woocommerce input[name^="woocommerce_"][name$="_subject"], #wpcontent .woocommerce input[name^="woocommerce_"][name$="_heading"], #wpcontent .woocommerce textarea[name^="woocommerce_"][name$="_additional_content"]').forEach(function(t){if(!t.nextElementSibling||!t.nextElementSibling.classList.contains("transliterate-admin-fields")){var a=e.createElement("div");a.className="transliterate-admin-fields";var n=e.createElement("span");n.textContent=RSTR_TOOL.label.Transliterate,n.className="transl-label";var r=e.createElement("a");r.href="#latin",r.textContent=RSTR_TOOL.label.Latin,r.className="transl-field-to-latin",r.dataset.mode="cyr_to_lat";var i=e.createElement("a");i.href="#cyrillic",i.textContent=RSTR_TOOL.label.Cyrillic,i.className="transl-field-to-cyrillic",i.dataset.mode="lat_to_cyr",a.appendChild(n),a.appendChild(r),a.appendChild(i),t.parentNode.insertBefore(a,t.nextSibling)}})}a(),new MutationObserver(function(e){e.forEach(function(e){a()})}).observe(e.body,{childList:!0,subtree:!0}),e.addEventListener("click",function(e){if(e.target.matches(".transliterate-admin-fields > a")){e.preventDefault();var t=e.target.closest(".transliterate-admin-fields").previousElementSibling;if(t&&["input","textarea"].indexOf(t.tagName.toLowerCase())>-1){var a=t.value;e.target.classList.add("disabled"),r("POST",RSTR_TOOL.ajax,{action:"rstr_transliteration_letters",mode:e.target.dataset.mode,nonce:RSTR_TOOL.nonce,value:a,rstr_skip:!0},{Accept:"text/plain"}),i(function(a){t.value=n(a),console.log(a,t.value),e.target.classList.remove("disabled")}),l(function(t){e.target.classList.remove("disabled")})}}})})}(document);