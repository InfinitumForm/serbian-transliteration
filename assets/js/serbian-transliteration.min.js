/**
 * JavaScript for the Serbian Transliteration Plugin
 *
 * @link              http://infinitumform.com/
 * @since             1.0.1
 * @package           Serbian_Transliteration
 * @autor             Ivijan-Stefan Stipic
 */
!function(){var s,i,a,r,l,e,o,c=(e,t,n,a)=>{i&&clearTimeout(i);var r=new XMLHttpRequest,l=[],o=0;if((s=r).onreadystatechange=()=>{4==s.readyState&&200==s.status&&(i=setTimeout(()=>{s=null},3e3))},r.open(e,t,!0),a)for(header in a)r.setRequestHeader(header,a[header]);if(n){for(key in n)l[o]=key+"="+n[key],o++;r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(l.join("&",l))}else r.send()},d=(e,t)=>{s&&(s.onreadystatechange=()=>{4==s.readyState&&200==s.status&&e(t?JSON.parse(s.responseText):s.responseText,s)})};!function(t,n){var e,n=document.getElementById(n),a=document.getElementsByName(t),r=document.getElementById("rstr-filter-mode-options");if(n){for(e=0;e<a.length;e++)a[e].checked&&("forced"==a[e].value?n.style.display=null:n.style.display="none");document.addEventListener("input",e=>{e.target.getAttribute("name")===t&&("forced"==e.target.value?n.style.display=null:n.style.display="none",c("POST",RSTR.ajax,{action:"rstr_filter_mode_options",nonce:e.target.dataset.nonce,mode:e.target.value,rstr_skip:!0},{Accept:"text/html"}),r.innerHTML='<div class="col"><b style="color:#cc0000;">'+RSTR.label.loading+"</b></div>",d(function(e){r.innerHTML=e}))})}}("serbian-transliteration[mode]","forced-transliteration"),function(t,n,a){if(t=document.getElementsByClassName(t)){var r;n=document.getElementById("rstr-transliteration-letters"),a=document.getElementById(a);for(var e=0;e<t.length;e++)!function(e){t[e].addEventListener("click",()=>{r&&clearTimeout(r),a.value=RSTR.label.loading,c("POST",RSTR.ajax,{action:"rstr_transliteration_letters",mode:t[e].dataset.mode,nonce:t[e].dataset.nonce,value:n.value,rstr_skip:!0},{Accept:"text/plain"}),d(function(e){a.value=function(e,t){let n=0,a=0,r=!1;void 0===t&&(t=2),e=e.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var l={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===t&&(r=!0),"number"!=typeof t){for(t=[].concat(t),a=0;a<t.length;a++)0===l[t[a]]?r=!0:l[t[a]]&&(n|=l[t[a]]);t=n}return t&l.ENT_HTML_QUOTE_SINGLE&&(e=e.replace(/&#039;/g,"'")),r||(e=e.replace(/&quot;/g,'"')),e=e.replace(/&amp;/g,"&")}(e),r&&clearTimeout(r)}),r=setTimeout(function(){a.value=" "},1e4)})}(e)}}("button-transliteration-letters",0,"rstr-transliteration-letters-result"),a="serbian-transliteration-tools-check",r="serbian-transliteration-tools-transliterate-permalinks",l="rstr-progress-bar",e="rstr-disclaimer",a=document.getElementById(a),r=document.getElementById(r),l=document.getElementById(l),e=document.getElementById(e),a&&r&&(o=e=>{e=Math.round(e);var t=l.children,n=t[0],a=t[1],r=a.children[0];n.style.width=e+"%",n.dataset.value=e,a.value=e,r.style.width=e+"%",r.innerHTML=e+"%",t[2].innerHTML=100<=e?RSTR.label.done:RSTR.label.progress_loading},a.onchange=()=>{r.disabled=!a.checked,e.style.display="block"},r.addEventListener("click",t=>{t.preventDefault();var n=e=>{c("POST",RSTR.ajax,e||{action:"rstr_run_permalink_transliteration",nonce:t.target.dataset.nonce,post_type:Array.from(document.querySelectorAll("input.tools-transliterate-permalinks-post-types:checked")).map(e=>e.value),rstr_skip:!0},{Accept:"application/json"}),d(function(e){e.error?o(0):(o(e.percentage),e.done?(r.disabled=!1,a.disabled=!1,Array.from(document.querySelectorAll("input.tools-transliterate-permalinks-post-types:checked")).map(e=>{e.disabled=!1})):n(e))},!0)};r.disabled=!0,a.disabled=!0,l.style.display="block",o(1),n(),Array.from(document.querySelectorAll("input.tools-transliterate-permalinks-post-types:checked")).map(e=>{e.disabled=!0})})),function(){var e,t=document.getElementsByClassName("accordion-link");if(t)for(e=0;e<t.length;e++)t[e].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"})}(),console.log("%c\n\nHey, are you are developer? Cool!!!\n\nJoin our team:\n\n%chttps://github.com/CreativForm/serbian-transliteration\n\n","color: #cc0000; font-size: x-large;","color: #cc0000; font-size: 18px")}();