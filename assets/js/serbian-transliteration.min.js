/**
 * JavaScript for the Serbian Transliteration Plugin
 *
 * @link              http://infinitumform.com/
 * @since             1.0.0
 * @package           Serbian_Transliteration
 * @autor             Ivijan-Stefan Stipic
 */
!function(){var e,t,n=(n,a,r,l)=>{t&&clearTimeout(t);var o=new XMLHttpRequest,s=[],i=0;if((e=o).onreadystatechange=(()=>{4==e.readyState&&200==e.status&&(t=setTimeout(()=>{e=null},3e3))}),o.open(n,a,!0),l)for(header in l)o.setRequestHeader(header,l[header]);if(r){for(key in r)s[i]=key+"="+r[key],i++;o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(s.join("&",s))}else o.send()},a=(t,n)=>{e&&(e.onreadystatechange=(()=>{4==e.readyState&&200==e.status&&t(n?JSON.parse(e.responseText):e.responseText,e)}))};!function(e,t){t=document.getElementById(t);var r,l=document.getElementsByName(e),o=document.getElementById("rstr-filter-mode-options");if(t){for(r=0;r<l.length;r++)l[r].checked&&("forced"==l[r].value?t.style.display=null:t.style.display="none");document.addEventListener("input",r=>{r.target.getAttribute("name")===e&&("forced"==r.target.value?t.style.display=null:t.style.display="none",n("POST",RSTR.ajax,{action:"rstr_filter_mode_options",nonce:r.target.dataset.nonce,mode:r.target.value},{Accept:"text/html"}),o.innerHTML='<div class="col"><b style="color:#cc0000;">'+RSTR.label.loading+"</b></div>",a(function(e){o.innerHTML=e}))})}}("serbian-transliteration[mode]","forced-transliteration"),function(e,t,r){if(e=document.getElementsByClassName(e)){var l;t=document.getElementById(t),r=document.getElementById(r);for(var o=0;o<e.length;o++)!function(o){e[o].addEventListener("click",()=>{l&&clearTimeout(l),r.value=RSTR.label.loading,n("POST",RSTR.ajax,{action:"rstr_transliteration_letters",mode:e[o].dataset.mode,nonce:e[o].dataset.nonce,value:t.value},{Accept:"text/plain"}),a(function(e){r.value=e,l&&clearTimeout(l)}),l=setTimeout(function(){r.value=" "},1e4)})}(o)}}("button-transliteration-letters","rstr-transliteration-letters","rstr-transliteration-letters-result"),function(e,t,r,l){if(e=document.getElementById(e),t=document.getElementById(t),r=document.getElementById(r),l=document.getElementById(l),e&&t){var o=e=>{e=Math.round(e);var t=r.children,n=t[0],a=t[1],l=a.children[0];n.style.width=e+"%",n.dataset.value=e,a.value=e,l.style.width=e+"%",l.innerHTML=e+"%",t[2].innerHTML=e>=100?RSTR.label.done:RSTR.label.progress_loading};e.onchange=(()=>{t.disabled=!e.checked,l.style.display="block"}),t.addEventListener("click",l=>{l.preventDefault();var s=r=>{n("POST",RSTR.ajax,r||{action:"rstr_run_permalink_transliteration",nonce:l.target.dataset.nonce,post_type:Array.from(document.querySelectorAll("input.tools-transliterate-permalinks-post-types:checked")).map(e=>e.value)},{Accept:"application/json"}),a(function(n){n.error?o(0):(o(n.percentage),n.done?(t.disabled=!1,e.disabled=!1,Array.from(document.querySelectorAll("input.tools-transliterate-permalinks-post-types:checked")).map(e=>{e.disabled=!1})):s(n))},!0)};t.disabled=!0,e.disabled=!0,r.style.display="block",o(1),s(),Array.from(document.querySelectorAll("input.tools-transliterate-permalinks-post-types:checked")).map(e=>{e.disabled=!0})})}}("serbian-transliteration-tools-check","serbian-transliteration-tools-transliterate-permalinks","rstr-progress-bar","rstr-disclaimer"),function(e){var t,n=document.getElementsByClassName("accordion-link");if(n)for(t=0;t<n.length;t++)n[t].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"})}(),console.log("%c\n\nHey, are you are developer? Cool!!!\n\nJoin our team:\n\n%chttps://github.com/CreativForm/serbian-transliteration\n\n","color: #cc0000; font-size: x-large;","color: #cc0000; font-size: 18px")}();